<!--pages/rank/rank.wxml-->
<view class="container">
  <view class="header">
    <text class="title">ğŸ† å­¦ä¹ æ’è¡Œæ¦œ</text>
    <text class="subtitle">çœ‹çœ‹è°å­¦å¾—æœ€æ£’ï¼</text>
  </view>
  
  <!-- å½“å‰ç”¨æˆ·æ’å -->
  <view class="my-rank card" wx:if="{{userInfo}}">
    <view class="rank-badge my">{{myRank}}</view>
    <image class="rank-avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
    <view class="rank-info">
      <text class="rank-name">{{userInfo.nickName}}</text>
      <text class="rank-score">â­ {{myScore}} åˆ†</text>
    </view>
    <text class="rank-highlight">æˆ‘çš„æ’å</text>
  </view>
  
  <!-- æ’è¡Œæ¦œåˆ—è¡¨ -->
  <view class="rank-list">
    <view 
      class="rank-item {{index < 3 ? 'top' + (index + 1) : ''}}"
      wx:for="{{rankList}}"
      wx:key="id"
    >
      <view class="rank-badge {{index < 3 ? 'medal' : ''}}">
        <text wx:if="{{index === 0}}">ğŸ¥‡</text>
        <text wx:elif="{{index === 1}}">ğŸ¥ˆ</text>
        <text wx:elif="{{index === 2}}">ğŸ¥‰</text>
        <text wx:else>{{index + 1}}</text>
      </view>
      <image class="rank-avatar" src="{{item.avatar}}" mode="aspectFill"></image>
      <view class="rank-info">
        <text class="rank-name">{{item.name}}</text>
        <view class="rank-stats">
          <text class="rank-score">â­ {{item.score}}</text>
          <text class="rank-days">ğŸ“… {{item.days}}å¤©</text>
        </view>
      </view>
    </view>
  </view>
  
  <!-- æœªç™»å½•æç¤º -->
  <view class="login-prompt card" wx:if="{{!userInfo}}">
    <text class="prompt-text">ç™»å½•åæŸ¥çœ‹å®Œæ•´æ’è¡Œæ¦œ</text>
    <button class="btn-primary" bindtap="goLogin">å»ç™»å½•</button>
  </view>
</view>
