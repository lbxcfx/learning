<!--pages/index/index.wxml-->
<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
  <view class="user-card card" wx:if="{{userInfo}}">
    <image class="avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
    <view class="user-info">
      <text class="nickname">{{userInfo.nickName}}</text>
      <view class="stats-row">
        <text class="stat">ğŸª™ {{coins}}</text>
        <text class="stat">â­ {{score}}</text>
        <text class="stat">ğŸ”¥ {{streak}}</text>
      </view>
    </view>
  </view>
  
  <!-- æœªç™»å½•çŠ¶æ€ -->
  <view class="login-card card" wx:else>
    <text class="login-text">ç™»å½•åå¯ä¿å­˜å­¦ä¹ è¿›åº¦</text>
    <button class="btn-primary" bindtap="handleLogin">
      <text>å¾®ä¿¡ç™»å½•</text>
    </button>
  </view>
  
  <!-- å•å…ƒé€‰æ‹© -->
  <view class="section-title">é€‰æ‹©å•å…ƒ</view>
  <scroll-view class="unit-scroll" scroll-x="true">
    <view class="unit-list">
      <view 
        class="unit-btn {{currentUnit === item.id ? 'active' : ''}}"
        wx:for="{{units}}"
        wx:key="id"
        bindtap="selectUnit"
        data-id="{{item.id}}"
      >
        <text class="unit-icon">{{item.icon}}</text>
        <text class="unit-name">Unit {{item.id}}</text>
      </view>
    </view>
  </scroll-view>
  
  <!-- å•å…ƒä¿¡æ¯ -->
  <view class="unit-info card" wx:if="{{currentUnitData}}">
    <view class="unit-title">{{currentUnitData.title}}</view>
    <view class="unit-subtitle">{{currentUnitData.titleCn}}</view>
    <view class="unit-stats">
      ğŸ“š {{currentUnitData.vocabulary.length}}ä¸ªå•è¯ Â· 
      ğŸ“ {{currentUnitData.sentences.length}}ä¸ªå¥å‹
    </view>
  </view>
  
  <!-- å­¦ä¹ æ¨¡å¼ -->
  <view class="section-title">é€‰æ‹©æ¨¡å¼</view>
  <view class="mode-grid">
    <view 
      class="mode-card"
      wx:for="{{modes}}"
      wx:key="key"
      bindtap="startMode"
      data-mode="{{item.key}}"
      style="--mode-color: {{item.color}}"
    >
      <text class="mode-icon">{{item.icon}}</text>
      <text class="mode-title">{{item.title}}</text>
      <text class="mode-desc">{{item.desc}}</text>
    </view>
  </view>
</view>
